jQuery(document).ready(function(a){var b={init:function(){this.acq_methods(),this.move(),this.make_value()},acq_methods:function(){a("#edd-acq-add-method").on("click",function(){var b=a("#edd-acquisition-methods tr:last"),c=b.clone(),d=b.parent().find("tr").length;return c.find("td input").val(""),c.find("input, select").each(function(){var b=a(this).attr("name");b=b.replace(/\[(\d+)\]/,"["+parseInt(d)+"]"),a(this).attr("name",b).attr("id",b)}),c.insertAfter(b),!1}),a("body").on("click","#edd-acquisition-methods .edd-acq-remove-method",function(){if(confirm("Remove this method? Reports will still be available for past records.")){var b=a("#edd-acquisition-methods tr:visible").length;if(2===b)a('#edd-acquisition-methods input[type="text"]').val("");else{a(this).closest("tr").remove();var c=0;a(".edd-acq-method-row").each(function(){a(this).find("input, select").each(function(){var b=a(this).attr("name");b=b.replace(/\[(\d+)\]/,"["+parseInt(c)+"]"),a(this).attr("name",b).attr("id",b)}),c++})}}return!1})},move:function(){a("#edd-acquisition-methods tbody").sortable({handle:".edd_draghandle",items:".edd-acq-method-row",opacity:.6,cursor:"move",axis:"y",update:function(){var b=0;a(this).find("tr").each(function(){a(this).find("input, select").each(function(){var c=a(this).attr("name");c=c.replace(/\[(\d+)\]/,"["+parseInt(b)+"]"),a(this).attr("name",c).attr("id",c)}),b++})}})},make_value:function(){a("body").on("blur",".edd-acq-name input",function(){var b=a(this).val().replace(/\W+/g,"-").toLowerCase(),c=a(this).parent().parent().parent().find(".edd-acq-value input"),d=c.val();if(0==d.length){var e=0;a("#edd-acquisition-methods tbody").find(".edd-acq-value input").each(function(){a(this).val()==b&&e++}),e>0&&(b+=e),c.val(b)}})}};b.init()});
